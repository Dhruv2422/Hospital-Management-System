-- Use the database HMS1
USE HMS1;

-- Create the 'department' table
CREATE TABLE department (
    department_id INT NOT NULL PRIMARY KEY,
    dep_name VARCHAR(MAX) NOT NULL,
    dep_head VARCHAR(MAX) NOT NULL
);

-- Create the 'employee' table
CREATE TABLE employee (
    employee_id INT NOT NULL PRIMARY KEY,
    employee_name VARCHAR(MAX) NOT NULL,
    DoB DATE NOT NULL,
    joinning_date DATE NOT NULL,
    emp_type VARCHAR(MAX) NOT NULL,
    email VARCHAR(MAX) NOT NULL,
    address VARCHAR(MAX) NOT NULL,
    salary INT NOT NULL,
    date_of_leaving DATE NOT NULL,
    department_id INT NOT NULL,
    FOREIGN KEY (department_id) REFERENCES department(department_id)
);

-- Create the 'Medicine' table
CREATE TABLE Medicine (
    medicine_id INT NOT NULL PRIMARY KEY,
    medicine_name VARCHAR(MAX) NOT NULL,
    quantity INT NOT NULL,
    date DATE NOT NULL,
    medicine_cost NCHAR(10) NOT NULL,
    patient_id INT NOT NULL,
    FOREIGN KEY (patient_id) REFERENCES patient(patient_id)
);

-- Create the 'patient' table
CREATE TABLE patient (
    patient_id INT NOT NULL PRIMARY KEY,
    patient_name VARCHAR(MAX) NOT NULL,
    phone_no VARCHAR(MAX) NOT NULL,
    blood_group VARCHAR(MAX) NOT NULL,
    email VARCHAR(MAX) NOT NULL,
    gender VARCHAR(MAX) NOT NULL,
    address VARCHAR(MAX) NOT NULL,
    disease VARCHAR(MAX) NOT NULL,
    arrival_date DATE NOT NULL,
    discharge_date DATE NOT NULL
);

-- Create the 'Bill' table
CREATE TABLE Bill (
    payment_id INT NOT NULL PRIMARY KEY,
    date DATE NOT NULL,
    room_cost INT NOT NULL,
    othercharge INT NULL,
    mcost INT NOT NULL,
    Total INT NOT NULL,
    patient_id INT NOT NULL,
    FOREIGN KEY (patient_id) REFERENCES patient(patient_id)
);

-- Create the 'doctor' table
CREATE TABLE doctor (
    doctor_id INT NOT NULL PRIMARY KEY,
    qualification VARCHAR(MAX) NOT NULL,
    patient_id INT NOT NULL,
    employee_id INT NOT NULL,
    FOREIGN KEY (patient_id) REFERENCES patient(patient_id),
    FOREIGN KEY (employee_id) REFERENCES employee(employee_id)
);

-- Create the 'nurse' table
CREATE TABLE nurse (
    nurse_id INT NOT NULL PRIMARY KEY,
    patient_id INT NOT NULL,
    employee_id INT NOT NULL,
    FOREIGN KEY (patient_id) REFERENCES patient(patient_id),
    FOREIGN KEY (employee_id) REFERENCES employee(employee_id)
);

-- Create the 'relative' table
CREATE TABLE relative (
    relative_id INT NOT NULL PRIMARY KEY,
    relative_name VARCHAR(MAX) NOT NULL,
    relative_contact VARCHAR(MAX) NOT NULL,
    relation VARCHAR(MAX) NOT NULL,
    patient_id INT NOT NULL,
    FOREIGN KEY (patient_id) REFERENCES patient(patient_id)
);

-- Create the 'room' table
CREATE TABLE room (
    room_id INT NOT NULL PRIMARY KEY,
    room_type VARCHAR(MAX) NOT NULL,
    patient_id INT NOT NULL,
    room_cost INT NOT NULL
);

-- Create the 'Test' table
CREATE TABLE Test (
    test_id INT NOT NULL PRIMARY KEY,
    test_name VARCHAR(MAX) NOT NULL,
    test_cost INT NOT NULL,
    date DATE NOT NULL,
    patient_id INT NOT NULL,
    FOREIGN KEY (patient_id) REFERENCES patient(patient_id)
);
